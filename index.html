<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home HNI</title>
   <meta name="description" content="Find your perfect home with HomeHNI. Browse curated property listings, compare prices, and connect with trusted agents in your area." />
<meta name="author" content="HomeHNI Team" />

<meta property="og:title" content="HomeHNI â€“ Your Trusted Home Finder" />
<meta property="og:description" content="Discover homes, apartments, and investment properties tailored to your needs. Start your property search today with HomeHNI." />

    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@lovable_dev" />
    <meta name="twitter:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Open+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Favicons -->
    <link rel="icon" type="image/png" sizes="16x16" href="/lovable-uploads/99962067-c156-4bbf-aaa3-651d219b7fc9.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/lovable-uploads/f823262e-c8d7-4246-a781-b688bbd6f3ad.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="/lovable-uploads/5dd4d65c-9ded-4795-8f35-dff171a1da16.png" />
    <link rel="icon" type="image/png" sizes="512x512" href="/lovable-uploads/2b9c983d-f764-44ce-85fe-78d64ea05606.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/lovable-uploads/8402ff16-eaf9-41d6-af4d-edeb86ef422b.png" />
  </head>

  <body>
    <div id="root"></div>
    
    <!-- Geo-routing script - runs before main bundle for fast redirects -->
    <script>
      // Feature flag - set to false to disable geo-routing
      window.__ENABLE_GEO__ = window.__ENABLE_GEO__ !== undefined ? window.__ENABLE_GEO__ : true;
      
      if (window.__ENABLE_GEO__ && location.hostname === "homehni.com") {
        // Country to domain mapping (single source of truth)
        const COUNTRY_DOMAINS = {
          'US': 'homehni.us',
          'GB': 'homehni.co.uk', 
          'UK': 'homehni.co.uk',
          'DE': 'homehni.de',
          'AE': 'homehni.ae',
          'ZA': 'homehni.co.za',
          'IN': 'homehni.in',
          'IT': 'homehni.it',
          'FR': 'homehni.fr',
          'CA': 'homehni.ca',
          'AU': 'homehni.com.au'
        };
        
        const PREF_KEY = 'homehni_country_pref_v1';
        
        // 1. Check for ?country=XX override
        const urlParams = new URLSearchParams(location.search);
        const countryOverride = urlParams.get('country');
        if (countryOverride) {
          const upperCountry = countryOverride.toUpperCase();
          if (COUNTRY_DOMAINS[upperCountry]) {
            localStorage.setItem(PREF_KEY, upperCountry);
            location.replace('https://' + COUNTRY_DOMAINS[upperCountry] + location.pathname + location.hash);
            return;
          }
        }
        
        // 2. Check saved preference
        const savedCountry = localStorage.getItem(PREF_KEY);
        if (savedCountry && COUNTRY_DOMAINS[savedCountry]) {
          location.replace('https://' + COUNTRY_DOMAINS[savedCountry] + location.pathname + location.hash);
          return;
        }
        
        // 3. Try navigator.language fallback
        if (navigator.language) {
          const lang = navigator.language.toLowerCase();
          let detectedCountry = null;
          
          // Extract country from language codes like en-US, en-IN, etc.
          if (lang.includes('-')) {
            detectedCountry = lang.split('-')[1].toUpperCase();
          } else if (lang.includes('_')) {
            detectedCountry = lang.split('_')[1].toUpperCase();
          }
          
          if (detectedCountry && COUNTRY_DOMAINS[detectedCountry]) {
            location.replace('https://' + COUNTRY_DOMAINS[detectedCountry] + location.pathname + location.hash);
            return;
          }
        }
        
        // 4. Stay on global domain (no redirect needed)
      }
    </script>
    
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
